<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="643.75px" preserveAspectRatio="none" style="width:526px;height:643px;" version="1.1" viewBox="0 0 526 643" width="526.5625px" zoomAndPan="magnify"><defs><filter height="300%" id="fqwqf22bqwinu" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="3.125"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="6.25" dy="6.25" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fqwqf22bqwinu)" height="446.5576" style="stroke: #A80036; stroke-width: 1.5625;" width="15.625" x="37.5" y="150.4639"/><rect fill="#FFFFFF" filter="url(#fqwqf22bqwinu)" height="413.7451" style="stroke: #A80036; stroke-width: 1.5625;" width="15.625" x="214.0625" y="183.2764"/><rect fill="#FFFFFF" filter="url(#fqwqf22bqwinu)" height="43.75" style="stroke: #A80036; stroke-width: 1.5625;" width="15.625" x="221.875" y="241.2964"/><rect fill="#FFFFFF" filter="url(#fqwqf22bqwinu)" height="43.75" style="stroke: #A80036; stroke-width: 1.5625;" width="15.625" x="221.875" y="485.8765"/><rect fill="#FFFFFF" filter="url(#fqwqf22bqwinu)" height="45.52" style="stroke: #A80036; stroke-width: 1.5625;" width="15.625" x="448.4375" y="379.2114"/><rect fill="#FFFFFF" filter="url(#fqwqf22bqwinu)" height="233.6426" style="stroke: #000000; stroke-width: 3.125;" width="354.6875" x="153.125" y="319.6289"/><rect fill="#FFFFFF" height="115.8325" style="stroke: none; stroke-width: 1.5625;" width="354.6875" x="153.125" y="437.439"/><line style="stroke: #A80036; stroke-width: 1.5625; stroke-dasharray: 5.0,5.0;" x1="45.3125" x2="45.3125" y1="134.8389" y2="625.354"/><line style="stroke: #A80036; stroke-width: 1.5625; stroke-dasharray: 5.0,5.0;" x1="221.875" x2="221.875" y1="134.8389" y2="625.354"/><line style="stroke: #A80036; stroke-width: 1.5625; stroke-dasharray: 5.0,5.0;" x1="456.25" x2="456.25" y1="134.8389" y2="625.354"/><text fill="#000000" font-family="sans-serif" font-size="21.875" lengthAdjust="spacingAndGlyphs" textLength="56.25" x="12.5" y="129.6799">caller</text><ellipse cx="45.3125" cy="20.3125" fill="#FEFECE" filter="url(#fqwqf22bqwinu)" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 3.125;"/><path d="M45.3125,32.8125 L45.3125,75 M25,45.3125 L65.625,45.3125 M45.3125,75 L25,98.4375 M45.3125,75 L65.625,98.4375 " fill="none" filter="url(#fqwqf22bqwinu)" style="stroke: #A80036; stroke-width: 3.125;"/><rect fill="#FEFECE" filter="url(#fqwqf22bqwinu)" height="47.3389" style="stroke: #A80036; stroke-width: 2.34375;" width="100" x="168.75" y="79.6875"/><text fill="#000000" font-family="sans-serif" font-size="21.875" lengthAdjust="spacingAndGlyphs" textLength="78.125" x="179.6875" y="110.9299">Service</text><rect fill="#FEFECE" filter="url(#fqwqf22bqwinu)" height="47.3389" style="stroke: #A80036; stroke-width: 2.34375;" width="65.625" x="420.3125" y="79.6875"/><text fill="#000000" font-family="sans-serif" font-size="21.875" lengthAdjust="spacingAndGlyphs" textLength="43.75" x="431.25" y="110.9299">Dao</text><rect fill="#FFFFFF" filter="url(#fqwqf22bqwinu)" height="446.5576" style="stroke: #A80036; stroke-width: 1.5625;" width="15.625" x="37.5" y="150.4639"/><rect fill="#FFFFFF" filter="url(#fqwqf22bqwinu)" height="413.7451" style="stroke: #A80036; stroke-width: 1.5625;" width="15.625" x="214.0625" y="183.2764"/><rect fill="#FFFFFF" filter="url(#fqwqf22bqwinu)" height="43.75" style="stroke: #A80036; stroke-width: 1.5625;" width="15.625" x="221.875" y="241.2964"/><rect fill="#FFFFFF" filter="url(#fqwqf22bqwinu)" height="43.75" style="stroke: #A80036; stroke-width: 1.5625;" width="15.625" x="221.875" y="485.8765"/><rect fill="#FFFFFF" filter="url(#fqwqf22bqwinu)" height="45.52" style="stroke: #A80036; stroke-width: 1.5625;" width="15.625" x="448.4375" y="379.2114"/><polygon fill="#A80036" points="195.3125,177.0264,210.9375,183.2764,195.3125,189.5264,201.5625,183.2764" style="stroke: #A80036; stroke-width: 1.5625;"/><line style="stroke: #A80036; stroke-width: 1.5625;" x1="53.125" x2="204.6875" y1="183.2764" y2="183.2764"/><text fill="#000000" font-family="sans-serif" font-size="20.3125" lengthAdjust="spacingAndGlyphs" textLength="121.875" x="64.0625" y="175.5684">getEntity(id)</text><line style="stroke: #A80036; stroke-width: 1.5625;" x1="237.5" x2="303.125" y1="229.0039" y2="229.0039"/><line style="stroke: #A80036; stroke-width: 1.5625;" x1="303.125" x2="303.125" y1="229.0039" y2="249.3164"/><line style="stroke: #A80036; stroke-width: 1.5625;" x1="239.0625" x2="303.125" y1="249.3164" y2="249.3164"/><polygon fill="#A80036" points="254.6875,243.0664,239.0625,249.3164,254.6875,255.5664,248.4375,249.3164" style="stroke: #A80036; stroke-width: 1.5625;"/><text fill="#000000" font-family="sans-serif" font-size="20.3125" lengthAdjust="spacingAndGlyphs" textLength="153.125" x="248.4375" y="221.0884">checkCache(id)</text><path d="M153.125,319.6289 L253.125,319.6289 L253.125,330.5664 L237.5,346.1914 L153.125,346.1914 L153.125,319.6289 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.5625;"/><rect fill="none" height="233.6426" style="stroke: #000000; stroke-width: 3.125;" width="354.6875" x="153.125" y="319.6289"/><text fill="#000000" font-family="sans-serif" font-size="20.3125" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29.6875" x="176.5625" y="340.0459">alt</text><text fill="#000000" font-family="sans-serif" font-size="17.1875" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="203.125" x="276.5625" y="338.7077">[entity not in cache]</text><polygon fill="#A80036" points="429.6875,372.9614,445.3125,379.2114,429.6875,385.4614,435.9375,379.2114" style="stroke: #A80036; stroke-width: 1.5625;"/><line style="stroke: #A80036; stroke-width: 1.5625;" x1="229.6875" x2="439.0625" y1="379.2114" y2="379.2114"/><text fill="#000000" font-family="sans-serif" font-size="20.3125" lengthAdjust="spacingAndGlyphs" textLength="110.9375" x="240.625" y="371.5034">findById(id)</text><polygon fill="#A80036" points="246.875,418.4814,231.25,424.7314,246.875,430.9814,240.625,424.7314" style="stroke: #A80036; stroke-width: 1.5625;"/><line style="stroke: #A80036; stroke-width: 1.5625; stroke-dasharray: 2.0,2.0;" x1="237.5" x2="454.6875" y1="424.7314" y2="424.7314"/><text fill="#000000" font-family="sans-serif" font-size="20.3125" lengthAdjust="spacingAndGlyphs" textLength="123.4375" x="256.25" y="417.0235">return entity</text><line style="stroke: #000000; stroke-width: 1.5625; stroke-dasharray: 2.0,2.0;" x1="153.125" x2="507.8125" y1="439.0015" y2="439.0015"/><line style="stroke: #A80036; stroke-width: 1.5625;" x1="237.5" x2="303.125" y1="473.584" y2="473.584"/><line style="stroke: #A80036; stroke-width: 1.5625;" x1="303.125" x2="303.125" y1="473.584" y2="493.8965"/><line style="stroke: #A80036; stroke-width: 1.5625;" x1="239.0625" x2="303.125" y1="493.8965" y2="493.8965"/><polygon fill="#A80036" points="254.6875,487.6465,239.0625,493.8965,254.6875,500.1465,248.4375,493.8965" style="stroke: #A80036; stroke-width: 1.5625;"/><text fill="#000000" font-family="sans-serif" font-size="20.3125" lengthAdjust="spacingAndGlyphs" textLength="196.875" x="248.4375" y="465.6685">getCachedEntity(id)</text><polygon fill="#A80036" points="62.5,590.7715,46.875,597.0215,62.5,603.2715,56.25,597.0215" style="stroke: #A80036; stroke-width: 1.5625;"/><line style="stroke: #A80036; stroke-width: 1.5625; stroke-dasharray: 2.0,2.0;" x1="53.125" x2="220.3125" y1="597.0215" y2="597.0215"/><text fill="#000000" font-family="sans-serif" font-size="20.3125" lengthAdjust="spacingAndGlyphs" textLength="123.4375" x="71.875" y="589.3135">return entity</text><!--
@startuml
skinparam dpi 150

actor caller
participant Service
participant Dao

activate caller
caller -> Service: getEntity(id)
activate Service
Service -> Service: checkCache(id)
activate Service
deactivate Service
alt entity not in cache
Service -> Dao: findById(id)
activate Dao
Service <- - Dao: return entity
deactivate Dao
else
Service -> Service: getCachedEntity(id)
activate Service
deactivate Service
end
caller <- - Service: return entity
deactivate Service
deactivate caller

hide footbox
@enduml

PlantUML version 1.2018.01(Sun Jan 28 18:08:22 UTC 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.7.0_25-b15
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>